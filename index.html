<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>å²¡å±±å…­æ—¥ç©¶æ¥µè¡Œæ—… ğŸ‘</title>
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@300;400;500;700&family=Poppins:wght@400;600&display=swap" rel="stylesheet">
    <!-- FontAwesome Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <style>
        :root {
            --primary: #2C3E50; /* æ·±è— */
            --accent: #FF9A9E; /* å²¡å±±æ¡ƒç²‰ */
            --accent-gradient: linear-gradient(120deg, #a1c4fd 0%, #c2e9fb 100%); /* ç€¨æˆ¶å…§æµ·è— */
            --bg: #F9FAFB;
            --card-bg: #FFFFFF;
            --text-main: #333;
            --text-sub: #666;
            --line-color: #E5E7EB;
            --shadow: 0 4px 20px rgba(0,0,0,0.05);
            --radius: 16px;
            --bottom-nav-height: 70px;
        }

        * {
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }

        body {
            font-family: 'Poppins', 'Noto Sans TC', sans-serif;
            background-color: var(--bg);
            color: var(--text-main);
            margin: 0;
            padding: 0;
            padding-bottom: calc(var(--bottom-nav-height) + 20px);
            overflow-x: hidden;
        }

        /* Hero Section */
        .hero {
            background: var(--accent-gradient);
            padding: 30px 20px 40px;
            border-bottom-left-radius: 30px;
            border-bottom-right-radius: 30px;
            color: var(--primary);
            position: relative;
            box-shadow: var(--shadow);
            z-index: 10;
        }

        .hero-top {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .date-badge {
            background: rgba(255,255,255,0.8);
            padding: 5px 12px;
            border-radius: 20px;
            font-size: 0.85rem;
            font-weight: 600;
            backdrop-filter: blur(5px);
        }

        .weather-badge {
            display: flex;
            align-items: center;
            gap: 5px;
            font-weight: 500;
        }

        .hero h1 {
            margin: 0;
            font-size: 1.8rem;
            font-weight: 700;
            line-height: 1.2;
        }

        .hero p {
            margin: 5px 0 0;
            font-size: 0.9rem;
            opacity: 0.8;
        }

        /* Timeline Container */
        .timeline-container {
            padding: 20px;
            max-width: 600px;
            margin: 0 auto;
        }

        /* Timeline Item */
        .timeline-item {
            display: flex;
            gap: 15px;
            margin-bottom: 25px;
            opacity: 0;
            transform: translateY(20px);
            animation: slideUp 0.5s forwards;
        }

        @keyframes slideUp {
            to { opacity: 1; transform: translateY(0); }
        }

        /* Left Column: Time */
        .time-col {
            display: flex;
            flex-direction: column;
            align-items: center;
            min-width: 50px;
            position: relative;
        }

        .time-text {
            font-size: 0.85rem;
            font-weight: 600;
            color: var(--text-sub);
            margin-bottom: 5px;
        }

        .timeline-line {
            width: 2px;
            flex-grow: 1;
            background: var(--line-color);
            margin-top: 5px;
            position: absolute;
            top: 25px;
            bottom: -30px;
            z-index: 0;
        }
        
        .timeline-item:last-child .timeline-line {
            display: none;
        }

        .timeline-dot {
            width: 12px;
            height: 12px;
            background: var(--accent);
            border-radius: 50%;
            border: 2px solid white;
            box-shadow: 0 0 0 2px var(--accent);
            z-index: 1;
        }

        /* Right Column: Card */
        .card {
            background: var(--card-bg);
            border-radius: var(--radius);
            padding: 15px;
            flex-grow: 1;
            box-shadow: var(--shadow);
            position: relative;
            transition: transform 0.2s;
        }

        .card:active {
            transform: scale(0.98);
        }

        .card-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 8px;
        }

        .card-title {
            font-size: 1rem;
            font-weight: 700;
            margin: 0;
            color: var(--primary);
        }

        .card-icon {
            background: #F0F2F5;
            color: var(--primary);
            width: 32px;
            height: 32px;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 0.9rem;
        }

        .card-desc {
            font-size: 0.85rem;
            color: var(--text-sub);
            margin: 0 0 10px;
            line-height: 1.5;
        }

        .tags {
            display: flex;
            gap: 8px;
            flex-wrap: wrap;
        }

        .tag {
            font-size: 0.75rem;
            padding: 4px 10px;
            border-radius: 12px;
            background: #F3F4F6;
            color: #555;
            cursor: pointer;
            transition: background 0.2s;
        }

        .tag.keyword {
            background: #EEF2FF;
            color: #4F46E5;
            border: 1px solid #C7D2FE;
        }

        .tag.map-link {
            background: #ECFDF5;
            color: #059669;
            border: 1px solid #A7F3D0;
            display: flex;
            align-items: center;
            gap: 4px;
            text-decoration: none;
        }

        /* Modal */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.5);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            opacity: 0;
            visibility: hidden;
            transition: 0.3s;
        }

        .modal-overlay.active {
            opacity: 1;
            visibility: visible;
        }

        .modal-content {
            background: white;
            width: 85%;
            max-width: 400px;
            border-radius: 20px;
            padding: 25px;
            transform: scale(0.9);
            transition: 0.3s;
            position: relative;
        }

        .modal-overlay.active .modal-content {
            transform: scale(1);
        }

        .modal-close {
            position: absolute;
            top: 15px;
            right: 15px;
            font-size: 1.2rem;
            color: #999;
            cursor: pointer;
        }

        .modal-info-block {
            background: #F9FAFB;
            padding: 15px;
            border-radius: 10px;
            margin-top: 15px;
            border-left: 4px solid var(--accent);
        }

        /* Bottom Nav */
        .bottom-nav {
            position: fixed;
            bottom: 0;
            left: 0;
            width: 100%;
            height: var(--bottom-nav-height);
            background: white;
            display: flex;
            justify-content: space-around;
            align-items: center;
            box-shadow: 0 -4px 20px rgba(0,0,0,0.05);
            z-index: 100;
            padding-bottom: env(safe-area-inset-bottom);
        }

        .nav-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            font-size: 0.7rem;
            color: #9CA3AF;
            cursor: pointer;
            width: 14%;
            transition: 0.2s;
        }

        .nav-item i {
            font-size: 1.2rem;
            margin-bottom: 4px;
        }

        .nav-item.active {
            color: #2C3E50;
            font-weight: 600;
            transform: translateY(-2px);
        }
        
        .nav-item.active i {
            color: var(--accent);
        }

        /* Toast Notification */
        .toast {
            position: fixed;
            bottom: 90px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(0,0,0,0.8);
            color: white;
            padding: 10px 20px;
            border-radius: 30px;
            font-size: 0.9rem;
            opacity: 0;
            transition: 0.3s;
            pointer-events: none;
            z-index: 2000;
        }
        .toast.show { opacity: 1; }

    </style>
</head>
<body>

    <!-- Hero Section -->
    <div class="hero">
        <div class="hero-top">
            <div class="date-badge" id="hero-date">Day 1</div>
            <div class="weather-badge">
                <i class="fas fa-cloud-sun"></i>
                <span id="hero-temp">10Â°C</span>
            </div>
        </div>
        <h1 id="hero-location">æŠµé”å²¡å±±</h1>
        <p id="hero-desc">åˆè¦‹æ¡ƒå¤ªéƒçš„æ•…é„‰ï¼Œæº–å‚™é–‹å§‹æ—…ç¨‹ï¼</p>
    </div>

    <!-- Timeline Content -->
    <div class="timeline-container" id="timeline-app">
        <!-- Content will be injected here by JS -->
    </div>

    <!-- Bottom Navigation -->
    <div class="bottom-nav">
        <div class="nav-item active" onclick="switchDay(0)">
            <i class="fas fa-plane-arrival"></i>
            <span>D1</span>
        </div>
        <div class="nav-item" onclick="switchDay(1)">
            <i class="fas fa-torii-gate"></i>
            <span>D2</span>
        </div>
        <div class="nav-item" onclick="switchDay(2)">
            <i class="fas fa-chess-rook"></i>
            <span>D3</span>
        </div>
        <div class="nav-item" onclick="switchDay(3)">
            <i class="fas fa-water"></i>
            <span>D4</span>
        </div>
        <div class="nav-item" onclick="switchDay(4)">
            <i class="fas fa-peach"></i>
            <span>D5</span>
        </div>
        <div class="nav-item" onclick="switchDay(5)">
            <i class="fas fa-plane-departure"></i>
            <span>D6</span>
        </div>
        <div class="nav-item" onclick="openFullMap()">
            <i class="fas fa-map-marked-alt"></i>
            <span>åœ°åœ–</span>
        </div>
    </div>

    <!-- Modal -->
    <div class="modal-overlay" id="info-modal" onclick="closeModal(event)">
        <div class="modal-content">
            <div class="modal-close" onclick="closeModal(event, true)">&times;</div>
            <h2 id="modal-title" style="margin-top:0; color:var(--primary);">æ¨™é¡Œ</h2>
            <div id="modal-body">
                <!-- content -->
            </div>
        </div>
    </div>

    <!-- Toast -->
    <div class="toast" id="toast">å·²è¤‡è£½åˆ°å‰ªè²¼ç°¿</div>

    <script>
        // --- Data: è¡Œç¨‹è³‡æ–™ ---
        const itinerary = [
            {
                day: "Day 1",
                date: "12/12 (äº”)",
                location: "ğŸ“ å²¡å±± Okayama",
                weather: "8Â°C - 12Â°C",
                desc: "èˆªç­æŠµé”èˆ‡å²¡å±±åç‰©æ™šé¤",
                events: [
                    { time: "15:05", title: "æŠµé”å²¡å±±æ©Ÿå ´", icon: "fa-plane", desc: "å°ç£è™èˆª IT262", type: "transport", 
                      keyword: "IT262", keywordData: "èˆªç­ï¼šIT262<br>èˆªå»ˆï¼šåœ‹éš›ç·šå…¥å¢ƒ<br>å‚™è¨»ï¼šè¨˜å¾—å¡«å¯« VJW" },
                    { time: "16:00", title: "æ­ä¹˜åˆ©æœ¨æ´¥å·´å£«", icon: "fa-bus", desc: "å‰å¾€å²¡å±±è»Šç«™è¥¿å£ (780å††)", map: "å²¡å±±æ¡ƒå¤ªéƒæ©Ÿå ´", type: "transport" },
                    { time: "16:45", title: "Via Inn Okayama Check-in", icon: "fa-bed", desc: "èˆ‡è»Šç«™è¥¿å£å…±æ§‹ï¼Œé›»æ¢¯ç›´é” 5F", map: "Via Inn Okayama", 
                      keyword: "è¨‚æˆ¿è³‡è¨Š", keywordData: "é£¯åº—ï¼šVia Inn Okayama<br>Check-in: 15:00<br>ç¢ºèªä¿¡è™Ÿï¼š#12345678" },
                    { time: "17:30", title: "æ™šé¤ï¼šå‘³å¸ é‡æ‘", icon: "fa-utensils", desc: "å¿…åƒï¼šå¤šèœœé†¬ç‚¸è±¬æ’ä¸¼ (Demi-katsudon)", map: "å‘³å¸ é‡æ‘" },
                    { time: "19:00", title: "AEON MALL & é ˜å– Pass", icon: "fa-ticket", desc: "è»Šç«™ç¶ è‰²çª—å£é ˜å– JR Passï¼Œè¶…å¸‚è²·æ°´", map: "AEON Mall Okayama", 
                      keyword: "JR Pass", keywordData: "æ†‘è­‰ï¼šJR é—œè¥¿&å»£å³¶å‘¨éŠåˆ¸<br>å•Ÿç”¨æ—¥ï¼š12/13 (æ˜æ—¥)<br>è«‹åŒæ™‚åŠƒä½æ˜æ—¥æ–°å¹¹ç·šæŒ‡å®šå¸­" }
                ]
            },
            {
                day: "Day 2",
                date: "12/13 (å…­)",
                location: "ğŸ“ å»£å³¶ Hiroshima",
                weather: "5Â°C - 11Â°C",
                desc: "ä¸–ç•Œéºç”¢å·¡ç¦®ï¼šå®®å³¶èˆ‡åŸçˆ†åœ“é ‚",
                events: [
                    { time: "08:00", title: "æ–°å¹¹ç·šå‰å¾€å»£å³¶", icon: "fa-train", desc: "Sakura/Nozomi (ç´„40åˆ†)", type: "transport", keyword: "ä¹˜è»Šæ’‡æ­¥", keywordData: "ä½¿ç”¨ JR Pass å¯åŠƒä½æŒ‡å®šå¸­<br>å»ºè­°åå³å´çœ‹æµ·æ™¯" },
                    { time: "10:00", title: "åš´å³¶ç¥ç¤¾ & æµ·ä¸Šé³¥å±…", icon: "fa-torii-gate", desc: "æ­ä¹˜ JR æ¸¡è¼ª (Pass å…è²»)", map: "åš´å³¶ç¥ç¤¾" },
                    { time: "12:00", title: "åˆé¤ï¼šç‰¡è £å±‹", icon: "fa-utensils", desc: "æ¨è–¦ï¼šç‰¡è £å±‹å®šé£Ÿã€çƒ¤ç‰¡è £", map: "ç‰¡è £å±‹ å®®å³¶" },
                    { time: "15:30", title: "åŸçˆ†åœ“é ‚ & å¹³å’Œå…¬åœ’", icon: "fa-monument", desc: "æ­è·¯é¢é›»è»Šè‡³ã€ŒåŸçˆ†ãƒ‰ãƒ¼ãƒ å‰ã€", map: "åŸçˆ†åœ“é ‚é¤¨" },
                    { time: "17:30", title: "æ™šé¤ï¼šå»£å³¶ç‡’æ‘", icon: "fa-fire", desc: "æ¨è–¦ï¼š2F å±±ã¡ã‚ƒã‚“ (åŠ éºµæ¢çš„å»£å³¶ç‡’)", map: "å»£å³¶ç‡’æ‘" }
                ]
            },
            {
                day: "Day 3",
                date: "12/14 (æ—¥)",
                location: "ğŸ“ å§¬è·¯ Himeji",
                weather: "4Â°C - 10Â°C",
                desc: "åœ‹å¯¶ç™½é·ºåŸèˆ‡æœ«ä»£æ­¦å£«å ´æ™¯",
                events: [
                    { time: "08:30", title: "æ–°å¹¹ç·šå‰å¾€å§¬è·¯", icon: "fa-train", desc: "Sakura è™Ÿ (ç´„20åˆ†)", type: "transport" },
                    { time: "09:30", title: "å§¬è·¯åŸ (ç™½é·ºåŸ)", icon: "fa-chess-rook", desc: "æ—¥æœ¬ç¬¬ä¸€ååŸï¼Œéœ€çˆ¬éšæ¢¯ï¼Œå»ºè­°ç©¿å¥½èµ°çš„é‹", map: "å§¬è·¯åŸ" },
                    { time: "12:00", title: "åˆé¤ï¼šTamagoya", icon: "fa-egg", desc: "é«˜ç´šé›è›‹æ‹Œé£¯ & ç©´å­é­š", map: "Tamagoya Himeji" },
                    { time: "14:30", title: "æ›¸å¯«å±±åœ“æ•™å¯º", icon: "fa-om", desc: "æ­çºœè»Šä¸Šå±±ï¼Œé›»å½±ã€Šæœ«ä»£æ­¦å£«ã€‹å ´æ™¯", map: "æ›¸å¯«å±±åœ“æ•™å¯º" },
                    { time: "17:30", title: "æ™šé¤ï¼šé…’é¥Œäº­ ç˜èŠ", icon: "fa-utensils", desc: "å§¬è·¯åç‰©ï¼šç”Ÿè–‘é†¬æ²¹é—œæ±ç…®", map: "é…’é¥Œäº­ ç˜èŠ" }
                ]
            },
            {
                day: "Day 4",
                date: "12/15 (ä¸€)",
                location: "ğŸ“ å€‰æ•· Kurashiki",
                weather: "6Â°C - 12Â°C",
                desc: "ç¾è§€åœ°å€ç™½å£ä¹‹ç”º (é¿é–‹é€±æœ«äººæ½®)",
                events: [
                    { time: "09:00", title: "JR å‰å¾€å€‰æ•·", icon: "fa-train", desc: "å±±é™½æœ¬ç·š (ç´„17åˆ†)", type: "transport" },
                    { time: "09:40", title: "å€‰æ•·é¤¨ (è²·èˆ¹ç¥¨)", icon: "fa-ticket", desc: "é‡è¦ï¼å…ˆè²·éŠèˆ¹ç¥¨ (500å††)", map: "å€‰æ•·é¤¨" },
                    { time: "10:30", title: "å€‰æ•·å·éŠèˆ¹", icon: "fa-ship", desc: "é«”é©—æ±Ÿæˆ¶é¢¨æƒ…æ°´ä¸Šæ•£æ­¥", map: "å€‰æ•·ç¾è§€åœ°å€" },
                    { time: "12:30", title: "åˆé¤ï¼šä¸‰å®…å•†åº—", icon: "fa-utensils", desc: "ç”ºå®¶å’–å“©é£¯ (ç™¾å¹´è€å±‹)", map: "ä¸‰å®…å•†åº—" },
                    { time: "13:30", title: "ç”œé»ï¼šæœ‰é„°åºµ", icon: "fa-coffee", desc: "æ¯æ—¥é™é‡å¹¸ç¦å¸ƒä¸", map: "æœ‰é„°åºµ" },
                    { time: "18:00", title: "æ™šé¤ï¼šå¯Œä¾†å±‹æœ¬èˆ–", icon: "fa-utensils", desc: "åƒå±‹ç‰›ç‡’è‚‰è†³", map: "å¯Œä¾†å±‹æœ¬èˆ–" }
                ]
            },
            {
                day: "Day 5",
                date: "12/16 (äºŒ)",
                location: "ğŸ“ å²¡å±± Okayama",
                weather: "7Â°C - 13Â°C",
                desc: "æ¡ƒå¤ªéƒå‚³èªªèˆ‡å¸‚å€æ¡è³¼",
                events: [
                    { time: "09:30", title: "å²¡å±±å¾Œæ¨‚åœ’ & å²¡å±±åŸ", icon: "fa-leaf", desc: "æ­è·¯é¢é›»è»Šè‡³ã€ŒåŸä¸‹ã€", map: "å²¡å±±å¾Œæ¨‚åœ’" },
                    { time: "12:30", title: "åˆé¤ï¼šå¾å¦»å£½å¸", icon: "fa-fish", desc: "å²¡å±±æ•£å£½å¸ (è»Šç«™2F)", map: "å¾å¦»å£½å¸ å²¡å±±" },
                    { time: "14:30", title: "å‰å‚™æ´¥ç¥ç¤¾", icon: "fa-torii-gate", desc: "JR æ¡ƒå¤ªéƒç·šï¼Œå¿…æ‹ 400m è¿´å»Š", map: "å‰å‚™æ´¥ç¥ç¤¾" },
                    { time: "16:30", title: "å¸‚å€å¤§æ¡è³¼", icon: "fa-shopping-bag", desc: "å”å‰è¨¶å¾·ã€Bic Cameraã€è—¥å¦", map: "Don Quijote Okayama", keyword: "è³¼ç‰©æ¸…å–®", keywordData: "1. è—¥å¦ (æ¾æœ¬æ¸…)<br>2. é›¶é£Ÿ (å”å‰è¨¶å¾·)<br>3. é›»å™¨ (Bic Camera)" },
                    { time: "19:00", title: "æ™šé¤ï¼šé³¥å¥½ é§…å‰æœ¬åº—", icon: "fa-beer", desc: "å±…é…’å±‹é«”é©— (çƒ¤é›ä¸²ã€é†‹æ¼¬é­š)", map: "é³¥å¥½ é§…å‰æœ¬åº—" }
                ]
            },
            {
                day: "Day 6",
                date: "12/17 (ä¸‰)",
                location: "âœˆï¸ è¿”ç¨‹",
                weather: "8Â°C - 12Â°C",
                desc: "æœ€å¾Œè£œè²¨èˆ‡å‰å¾€æ©Ÿå ´",
                events: [
                    { time: "10:00", title: "å¥‰é‚„ç”ºå•†åº—è¡—", icon: "fa-store", desc: "è»Šç«™è¥¿å£æ‡·èˆŠè¡—é“æ•£ç­–", map: "å¥‰é‚„ç”ºå•†åº—è¡—" },
                    { time: "11:00", title: "Sun Station Terrace", icon: "fa-gift", desc: "è»Šç«™å…§è²·å‰å‚™ç³°å­ã€ç™½æ¡ƒæœå‡", map: "Sun Station Terrace Okayama" },
                    { time: "13:10", title: "å‰å¾€æ©Ÿå ´", icon: "fa-bus", desc: "è¥¿å£21è™Ÿæœˆå° (å‹™å¿…æº–æ™‚)", map: "å²¡å±±è»Šç«™è¥¿å£å·´å£«ç«™", keyword: "æ™‚åˆ»è¡¨", keywordData: "ç™¼è»Šï¼š13:10 / 13:20<br>è»Šè³‡ï¼š780å††<br>è»Šç¨‹ï¼š30åˆ†é˜" },
                    { time: "15:55", title: "IT263 èµ·é£›", icon: "fa-plane-departure", desc: "å†è¦‹å²¡å±±ï¼", type: "transport" }
                ]
            }
        ];

        // --- Logic: ç¨‹å¼é‚è¼¯ ---

        let currentDayIndex = 0;

        function init() {
            renderTimeline(0);
        }

        function switchDay(index) {
            currentDayIndex = index;
            
            // Update Nav UI
            document.querySelectorAll('.nav-item').forEach((el, i) => {
                if(i < 6) { // Skip map button
                    el.classList.toggle('active', i === index);
                }
            });

            renderTimeline(index);
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        function renderTimeline(index) {
            const data = itinerary[index];
            const container = document.getElementById('timeline-app');
            
            // Update Hero
            document.getElementById('hero-date').innerText = data.day + " â€¢ " + data.date;
            document.getElementById('hero-location').innerText = data.location;
            document.getElementById('hero-temp').innerText = data.weather;
            document.getElementById('hero-desc').innerText = data.desc;

            // Generate Timeline HTML
            let html = '';
            
            data.events.forEach((event, i) => {
                // Animation delay staggering
                const delay = i * 0.1;
                
                // Map Link Tag
                let mapTag = '';
                if(event.map) {
                    const mapUrl = `https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(event.map)}`;
                    mapTag = `<a href="${mapUrl}" target="_blank" class="tag map-link"><i class="fas fa-map-marker-alt"></i> å°èˆª</a>`;
                }

                // Keyword Modal Tag
                let keywordTag = '';
                if(event.keyword) {
                    // Store data in data attribute
                    const safeData = event.keywordData.replace(/"/g, '&quot;');
                    keywordTag = `<span class="tag keyword" onclick="openModal('${event.keyword}', '${safeData}')"><i class="fas fa-info-circle"></i> ${event.keyword}</span>`;
                }

                html += `
                <div class="timeline-item" style="animation-delay: ${delay}s">
                    <div class="time-col">
                        <div class="time-text">${event.time}</div>
                        <div class="timeline-dot"></div>
                        <div class="timeline-line"></div>
                    </div>
                    <div class="card">
                        <div class="card-header">
                            <h3 class="card-title">${event.title}</h3>
                            <div class="card-icon"><i class="fas ${event.icon}"></i></div>
                        </div>
                        <p class="card-desc">${event.desc}</p>
                        <div class="tags">
                            ${mapTag}
                            ${keywordTag}
                        </div>
                    </div>
                </div>
                `;
            });

            container.innerHTML = html;
        }

        // --- Modal Logic ---
        function openModal(title, content) {
            document.getElementById('modal-title').innerText = title;
            document.getElementById('modal-body').innerHTML = `
                <div class="modal-info-block">${content}</div>
                <p style="font-size:0.8rem; color:#999; margin-top:10px;">*æˆªåœ–æˆ–è©³ç´°è³‡è¨Šå¯åœ¨æ­¤é¡¯ç¤º</p>
            `;
            document.getElementById('info-modal').classList.add('active');
        }

        function closeModal(e, force = false) {
            if (force || e.target.id === 'info-modal') {
                document.getElementById('info-modal').classList.remove('active');
            }
        }

        // --- Utils ---
        function openFullMap() {
            // Open a Google Map search for the general area
            window.open('https://www.google.com/maps/search/å²¡å±±+å»£å³¶+å§¬è·¯+æ—…éŠæ™¯é»', '_blank');
        }

        // Run
        document.addEventListener('DOMContentLoaded', init);

    </script>
</body>
</html>